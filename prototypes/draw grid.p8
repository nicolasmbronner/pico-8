pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
function _init()
	row={}
	col={}
	mrgnx=4    --margin x
	mrgny=40   --margin y
	blocw=9
	bloch=4
	totbloc=50 --total blocks
	maxpr=7    --max per row
	
	buildtable()
end



function _update()
	if btnp(⬅️) then
		maxpr=max(1,maxpr-1)
		buildtable()
	end
	
	if btnp(➡️) then
		maxpr=min(11,maxpr+1)
		buildtable()
	end
	
	if btnp(⬆️) then
		totbloc=min(100,totbloc+1)
		buildtable()
	end
	
	if btnp(⬇️) then
		totbloc=max(1,totbloc-1)
		buildtable()
	end
end



function _draw()
	cls(2)
	local i
	for i=1,totbloc do
		rectfill(row[i],col[i],row[i]+blocw,col[i]+bloch,14)
	end
	
	print("⬅️ max per row ➡️",31,5,14)
	print("⬇️ total blocks ⬆️",29,12,14)
end



function buildtable()
	row = {}  
	col = {}
	local i
	
	for i=1,totbloc do
		add(row,mrgnx+((i-1)%maxpr)*(blocw+2))
		add(col,mrgny+flr((i-1)/maxpr)*(bloch+2))
	end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
